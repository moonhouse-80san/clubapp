<style>
.ca-wrap { padding: 24px; max-width: 860px; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; }

/* í˜ì´ì§€ ì œëª© */
.ca-page-title { font-size: 22px; font-weight: 700; color: #1a1a2e; margin-bottom: 6px; }
.ca-page-sub   { font-size: 14px; color: #888; margin-bottom: 28px; }

/* í†µê³„ ì¹´ë“œ ê·¸ë¦¬ë“œ */
.ca-stat-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 16px;
    margin-bottom: 32px;
}
.ca-stat-card {
    border-radius: 14px;
    padding: 20px 22px;
    color: #fff;
    position: relative;
    overflow: hidden;
    box-shadow: 0 4px 14px rgba(0,0,0,.12);
}
.ca-stat-card::after {
    content: '';
    position: absolute;
    right: -18px; top: -18px;
    width: 80px; height: 80px;
    border-radius: 50%;
    background: rgba(255,255,255,.12);
}
.ca-stat-card.blue   { background: linear-gradient(135deg,#2196F3,#1565C0); }
.ca-stat-card.green  { background: linear-gradient(135deg,#43A047,#2E7D32); }
.ca-stat-card.purple { background: linear-gradient(135deg,#7B1FA2,#4A148C); }
.ca-stat-card.orange { background: linear-gradient(135deg,#FB8C00,#E65100); }
.ca-stat-label { font-size: 13px; opacity: .85; margin-bottom: 8px; }
.ca-stat-value { font-size: 32px; font-weight: 700; line-height: 1; }
.ca-stat-unit  { font-size: 14px; font-weight: 400; margin-left: 3px; opacity: .8; }

/* ì„¹ì…˜ ì œëª© */
.ca-section-title {
    font-size: 16px; font-weight: 700; color: #333;
    margin: 0 0 14px;
    padding-bottom: 10px;
    border-bottom: 2px solid #e8eaf0;
    display: flex; align-items: center; gap: 8px;
}

/* ë¹ ë¥¸ ë©”ë‰´ */
.ca-quick-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 14px;
    margin-bottom: 32px;
}
.ca-quick-btn {
    display: flex; align-items: center; gap: 14px;
    padding: 18px 20px;
    background: #fff;
    border: 2px solid #e8eaf0;
    border-radius: 12px;
    text-decoration: none;
    color: #333;
    transition: all .2s;
    cursor: pointer;
}
.ca-quick-btn:hover {
    border-color: #2196F3;
    box-shadow: 0 4px 14px rgba(33,150,243,.15);
    transform: translateY(-2px);
    text-decoration: none;
    color: #1565C0;
}
.ca-quick-icon {
    width: 44px; height: 44px;
    border-radius: 10px;
    display: flex; align-items: center; justify-content: center;
    font-size: 22px;
    flex-shrink: 0;
}
.ca-quick-icon.blue   { background: #e3f2fd; }
.ca-quick-icon.green  { background: #e8f5e9; }
.ca-quick-icon.purple { background: #f3e5f5; }
.ca-quick-icon.orange { background: #fff3e0; }
.ca-quick-text-title  { font-size: 14px; font-weight: 600; margin-bottom: 2px; }
.ca-quick-text-desc   { font-size: 12px; color: #888; }

/* ìµœê·¼ ì…ê¸ˆ í…Œì´ë¸” */
.ca-table {
    width: 100%; border-collapse: collapse;
    font-size: 14px;
    margin-bottom: 32px;
}
.ca-table th {
    background: #f5f6fa;
    padding: 10px 14px;
    text-align: left;
    font-weight: 600;
    color: #555;
    border-bottom: 2px solid #e8eaf0;
}
.ca-table td {
    padding: 11px 14px;
    border-bottom: 1px solid #f0f0f0;
    color: #444;
    vertical-align: middle;
}
.ca-table tbody tr:hover { background: #fafbff; }
.ca-table .amount { color: #1565C0; font-weight: 700; }
.ca-table .badge {
    display: inline-block;
    padding: 3px 10px;
    border-radius: 20px;
    font-size: 12px;
    font-weight: 600;
}
.ca-table .badge-new    { background: #e8f5e9; color: #2e7d32; }
.ca-table .badge-member { background: #e3f2fd; color: #1565C0; }

/* ì„¤ì • í˜„í™© ì¹´ë“œ */
.ca-config-card {
    background: #f8f9ff;
    border: 1px solid #e8eaf0;
    border-radius: 12px;
    padding: 20px 22px;
    margin-bottom: 32px;
}
.ca-config-row {
    display: flex; align-items: center;
    padding: 8px 0;
    border-bottom: 1px dashed #e8eaf0;
    font-size: 14px;
}
.ca-config-row:last-child { border-bottom: none; }
.ca-config-key   { color: #666; width: 140px; flex-shrink: 0; }
.ca-config-val   { color: #222; font-weight: 500; flex: 1; }
.ca-config-empty { color: #bbb; font-style: italic; }

/* ì•Œë¦¼ ë°°ë„ˆ */
.ca-alert {
    padding: 14px 18px;
    border-radius: 10px;
    margin-bottom: 20px;
    font-size: 14px;
    display: flex; align-items: center; gap: 10px;
}
.ca-alert.warn { background: #fff8e1; border-left: 4px solid #FFC107; color: #7a5000; }
.ca-alert.info { background: #e3f2fd; border-left: 4px solid #2196F3; color: #0d47a1; }

/* ë‘ ì»¬ëŸ¼ ë ˆì´ì•„ì›ƒ */
.ca-two-col {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
    margin-bottom: 10px;
}
@media(max-width: 640px) {
    .ca-two-col { grid-template-columns: 1fr; }
    .ca-quick-grid { grid-template-columns: 1fr; }
    .ca-stat-grid  { grid-template-columns: 1fr 1fr; }
}
</style>

<div class="ca-wrap">

    <div class="ca-page-title">ğŸ“ í´ëŸ½ ì•± ê´€ë¦¬ì</div>
    <div class="ca-page-sub">í´ëŸ½ íšŒì› ê´€ë¦¬ ëª¨ë“ˆ ëŒ€ì‹œë³´ë“œ</div>

    <div class="ca-alert warn">
        âš ï¸ êµ¬ì¥ëª…ì´ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
        <a href="{getUrl('act','dispClubappAdminConfig')}" style="margin-left:8px; font-weight:700; color:#e65100; text-decoration:underline;">ì§€ê¸ˆ ì„¤ì •í•˜ê¸° â†’</a>
    </div>

    <div class="ca-stat-grid">
        <div class="ca-stat-card blue">
            <div class="ca-stat-label">ğŸ“‹ ë“±ë¡ íšŒì›</div>
            <div class="ca-stat-value">{$member_count}<span class="ca-stat-unit">ëª…</span></div>
        </div>
        <div class="ca-stat-card green">
            <div class="ca-stat-label">ğŸ‘¨â€ğŸ« ë“±ë¡ ì½”ì¹˜</div>
            <div class="ca-stat-value">{$coach_count}<span class="ca-stat-unit">ëª…</span></div>
        </div>
        <div class="ca-stat-card purple">
            <div class="ca-stat-label">ğŸ’° ì´ë²ˆë‹¬ ì…ê¸ˆ</div>
            <div class="ca-stat-value">{number_format($monthly_payment)}<span class="ca-stat-unit">ì›</span></div>
        </div>
        <div class="ca-stat-card orange">
            <div class="ca-stat-label">ğŸ“… ì˜¤ëŠ˜ ì¶œì„</div>
            <div class="ca-stat-value">{$today_attendance}<span class="ca-stat-unit">ëª…</span></div>
        </div>
    </div>

    <div class="ca-section-title">âš¡ ë¹ ë¥¸ ë©”ë‰´</div>
    <div class="ca-quick-grid">
        <a href="{getUrl('act','dispClubappAdminConfig')}" class="ca-quick-btn">
            <div class="ca-quick-icon blue">âš™ï¸</div>
            <div>
                <div class="ca-quick-text-title">ê¸°ë³¸ ì„¤ì •</div>
                <div class="ca-quick-text-desc">êµ¬ì¥ëª…, ì½”ì¹˜, íšŒë¹„ í”„ë¦¬ì…‹</div>
            </div>
        </a>
        <a href="{getUrl('module','clubapp')}" class="ca-quick-btn" target="_blank">
            <div class="ca-quick-icon green">ğŸ‘¥</div>
            <div>
                <div class="ca-quick-text-title">íšŒì› ì•± ì—´ê¸°</div>
                <div class="ca-quick-text-desc">í”„ë¡ íŠ¸ì—”ë“œ íšŒì› ê´€ë¦¬ ì•±</div>
            </div>
        </a>
        <a href="{getUrl('act','dispClubappAdminMembers')}" class="ca-quick-btn">
            <div class="ca-quick-icon purple">ğŸ“‹</div>
            <div>
                <div class="ca-quick-text-title">íšŒì› ëª©ë¡</div>
                <div class="ca-quick-text-desc">ì „ì²´ íšŒì› ì¡°íšŒ ë° ê´€ë¦¬</div>
            </div>
        </a>
        <a href="{getUrl('act','dispClubappAdminPayments')}" class="ca-quick-btn">
            <div class="ca-quick-icon orange">ğŸ’³</div>
            <div>
                <div class="ca-quick-text-title">ì…ê¸ˆ ê´€ë¦¬</div>
                <div class="ca-quick-text-desc">íšŒë¹„ ë‚©ë¶€ í˜„í™© ì¡°íšŒ</div>
            </div>
        </a>
    </div>

    <div class="ca-two-col">
        <div>
            <div class="ca-section-title">ğŸ”§ í˜„ì¬ ì„¤ì • ìš”ì•½</div>
            <div class="ca-config-card">
                <div class="ca-config-row">
                    <span class="ca-config-key">êµ¬ì¥ëª…</span>
                    <span class="ca-config-val">
                        {if $settings->club_name}{$settings->club_name}{else}<span class="ca-config-empty">ë¯¸ì„¤ì •</span>{/if}
                    </span>
                </div>
                <div class="ca-config-row">
                    <span class="ca-config-key">ì½”ì¹˜</span>
                    <span class="ca-config-val">
                        {assign var='coaches' value=[]}
                        {if $settings->coach_1}{assign var='coaches' value=$coaches|array_merge:[$settings->coach_1]}{/if}
                        {if $settings->coach_2}{assign var='coaches' value=$coaches|array_merge:[$settings->coach_2]}{/if}
                        {if $settings->coach_3}{assign var='coaches' value=$coaches|array_merge:[$settings->coach_3]}{/if}
                        {if $settings->coach_4}{assign var='coaches' value=$coaches|array_merge:[$settings->coach_4]}{/if}
                        {if $settings->coach_1 || $settings->coach_2 || $settings->coach_3 || $settings->coach_4}
                            {$settings->coach_1}{if $settings->coach_2}, {$settings->coach_2}{/if}{if $settings->coach_3}, {$settings->coach_3}{/if}{if $settings->coach_4}, {$settings->coach_4}{/if}
                        {else}<span class="ca-config-empty">ë¯¸ì„¤ì •</span>{/if}
                    </span>
                </div>
                <div class="ca-config-row">
                    <span class="ca-config-key">ì…ê¸ˆ ê³„ì¢Œ</span>
                    <span class="ca-config-val">
                        {if $settings->bank_name}{$settings->bank_name} {$settings->account_number}{else}<span class="ca-config-empty">ë¯¸ì„¤ì •</span>{/if}
                    </span>
                </div>
                <div class="ca-config-row">
                    <span class="ca-config-key">ê²ŒìŠ¤íŠ¸ ë“±ë¡</span>
                    <span class="ca-config-val">{if $settings->allow_guest_registration == 'Y'}âœ… í—ˆìš©{else}ğŸ”’ ë¹„í—ˆìš©{/if}</span>
                </div>
                <div class="ca-config-row">
                    <span class="ca-config-key">ìƒì„¸ì •ë³´ ê³µê°œ</span>
                    <span class="ca-config-val">{if $settings->show_member_details != 'N'}âœ… ê³µê°œ{else}ğŸ”’ ë¹„ê³µê°œ{/if}</span>
                </div>
                <div class="ca-config-row">
                    <span class="ca-config-key">í…Œë§ˆ</span>
                    <span class="ca-config-val">{$settings->theme_color|default:'default'}</span>
                </div>
            </div>
            <a href="{getUrl('act','dispClubappAdminConfig')}"
               style="display:inline-block; padding:10px 20px; background:#2196F3; color:#fff;
                      border-radius:8px; text-decoration:none; font-size:14px; font-weight:600;">
                âš™ï¸ ì„¤ì • ìˆ˜ì •í•˜ê¸°
            </a>
        </div>

        <div>
            <div class="ca-section-title">ğŸ’° ìµœê·¼ ì…ê¸ˆ ë‚´ì—­</div>
            {if $recent_payments}
            <table class="ca-table">
                <thead>
                    <tr>
                        <th>íšŒì›</th>
                        <th>ì…ê¸ˆì¼</th>
                        <th>ê¸ˆì•¡</th>
                    </tr>
                </thead>
                <tbody>
                {foreach from=$recent_payments item=pay}
                    <tr>
                        <td>{$pay->member_name|default:'(ì•Œìˆ˜ì—†ìŒ)'}</td>
                        <td>{$pay->payment_date}</td>
                        <td class="amount">{number_format($pay->amount)}ì›</td>
                    </tr>
                {/foreach}
                </tbody>
            </table>
            {else}
            <div style="padding:30px; text-align:center; color:#bbb; background:#fafafa; border-radius:10px; border:1px dashed #e0e0e0;">
                ìµœê·¼ ì…ê¸ˆ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤.
            </div>
            {/if}
        </div>

    </div>
	
    <div style="margin-top:20px; padding:14px 18px; background:#f5f6fa; border-radius:10px;
                font-size:13px; color:#888; display:flex; gap:24px; flex-wrap:wrap;">
        <span>ğŸ“¦ clubapp v1.0.0</span>
        <span>ğŸ“… 2026-02-18</span>
        <span>ğŸ‘¤ 80san</span>
        <a href="https://mbg1346.inour.net/index.php?module=clubapp&act=dispClubappIndex" target="_blank" style="color:#2196F3;">moonhouse.co.kr</a>
    </div>

</div>